<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>eshop | Cart</title>
<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Comfortaa">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/theme4.css">
</head>
<body>

<div class="container">
<nav class="navbar navbar-dark navbar-expand-md fixed-top">
<ul class="nav">
  <li class="nav-item active">
    
    <ul class="nav nav-pills">
      <li class="dropdown active">
        <a id="drop1" class="button8" href="#" data-toggle="dropdown" data-trigger="mouseover" aria-haspopup="true" role="button" aria-expanded="false">Catalog <span class="caret"></span></a>
          
          <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
            <li role="presentation"><a role="menuitem" href="#">ActionActionAction</a></li>
            <li role="presentation"><a role="menuitem" href="#">Another action</a></li>
            <li role="presentation" class="dropdown">
              <a role="menuitem" href="#" data-toggle="dropdown">This is nesting <span class="caret"></span></a>
              <ul class="dropdown-menu right" role="menu" aria-labelledby="drop2">
                <li role="presentation"><a role="menuitem" href="#">Action</a></li>
                <li role="presentation"><a role="menuitem" href="#">Another action</a></li>
                <li role="presentation"><a role="menuitem" href="#">Something else here</a></li>
                <li role="presentation" class="divider"></li>
                <li role="presentation" class="dropdown">
                  <a role="menuitem" href="#" data-toggle="dropdown">Sub-menu <span class="caret"></span></a>
                  <ul class="dropdown-menu right" role="menu" aria-labelledby="drop3">
                    <li role="presentation"><a role="menuitem" href="#">Level 1</a></li>
                    <li role="presentation"><a role="menuitem" href="#">Nested Menu</a></li>
                    <li role="presentation" class="dropdown">
                      <a role="menuitem" href="#" data-toggle="dropdown">Other stuff <span class="caret"></span></a>
                      <ul class="dropdown-menu right" role="menu" aria-labelledby="drop4">
                        <li role="presentation"><a role="menuitem" href="#">Level 2</a></li>
                        <li role="presentation"><a role="menuitem" href="#">Nested Menu</a></li>
                        <li role="presentation" class="dropdown">
                          <a role="menuitem" href="#" data-toggle="dropdown">Even more stuff <span class="caret"></span></a>
                          <ul class="dropdown-menu right" role="menu" aria-labelledby="drop5">
                            <li role="presentation"><a role="menuitem" href="#">Level 3</a></li>
                            <li role="presentation"><a role="menuitem" href="#">Nested Menu</a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" href="http://google.cn" target="_blank">External link</a></li>
          </ul>
          
      </li>
    </ul>
    
  </li>
</ul>
<a class="navbar-brand" href="/">eshop</a>
<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="navbar-collapse collapse justify-content-center" id="navbarCollapse">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link button8" href="/">Main</a>
    </li>
    <li class="nav-item active">
      <a class="nav-link button8" href="/cart">Cart</a>
    </li>
  </ul>
</div>
</nav>


<div class="row d-block cartpage">
  
  <h4 class="cartpage-title">Your cart</h4>
  
  
  <div class="cartgood" data-id="1" data-price="11000">
  <p><img alt="64x64" style="width: 64px; height: 64px;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_16320cd2e95%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_16320cd2e95%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2214.5%22%20y%3D%2237.1%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-holder-rendered="true">
  <span>some row with goods info</span></p>
  <p><button type="button" class="cartgooddecr btn btn-outline-primary">-</button><input class="cartgoodscount" type="number" min="1" step="1" value="1"><button type="button" class="cartgoodincr btn btn-outline-primary">+</button><span class="goodtotalbl">price $ 110<br>total <span class="goodtotal">$ 110</span></span><button type="button" class="deletegood btn btn-outline-danger">X</button></p>
  </div>
  <hr class="style16">
  
  
  <div class="cartgood" data-id="2" data-price="700">
  <p><img alt="64x64" style="width: 64px; height: 64px;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_16320cd2e95%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_16320cd2e95%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2214.5%22%20y%3D%2237.1%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-holder-rendered="true">
  <span>some row with goods info</span></p>
  <p><button type="button" class="cartgooddecr btn btn-outline-primary">-</button><input class="cartgoodscount" type="number" min="1" step="1" value="1"><button type="button" class="cartgoodincr btn btn-outline-primary">+</button><span class="goodtotalbl">price $ 7<br>total <span class="goodtotal">$ 7</span></span><button type="button" class="deletegood btn btn-outline-danger">X</button></p>
  </div>
  <hr class="style16">
  
  
  <div class="cartgood" data-id="3" data-price="550">
  <p><img alt="64x64" style="width: 64px; height: 64px;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2264%22%20height%3D%2264%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2064%2064%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_16320cd2e95%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A10pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_16320cd2e95%22%3E%3Crect%20width%3D%2264%22%20height%3D%2264%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2214.5%22%20y%3D%2237.1%22%3E64x64%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-holder-rendered="true">
  <span>some row with goods info</span></p>
  <p><button type="button" class="cartgooddecr btn btn-outline-primary">-</button><input class="cartgoodscount" type="number" min="1" step="1" value="1"><button type="button" class="cartgoodincr btn btn-outline-primary">+</button><span class="goodtotalbl">price $ 5.50<br>total <span class="goodtotal">$ 5.50</span></span><button type="button" class="deletegood btn btn-outline-danger">X</button></p>
  </div>
  <hr class="style16">
  
  
  <p class="carttotalbl"><span>Total price <span class="carttotal">$$$$$$</span></span></p>
  <p class="ordernowbl"><button id="ordernow" class="btn btn-outline-success">Order now</button></p>
  


<script>
function cart_good_incr(e){
  var el = e.target;
  var ngcountel = el.previousSibling;
  var ngcount = +(ngcountel.value);
  
  if(ngcount > 0){
    ngcount++;
  }else{
    ngcount = 1;
  }
  ngcountel.value = ngcount;
  cart_good_calc_price(false,ngcountel.parentNode);
}
function cart_good_decr(e){
  var el = e.target;
  var ngcountel = el.nextSibling;
  var ngcount = +(ngcountel.value);
  
  if(ngcount > 2){
    ngcount--;
  }else{
    ngcount = 1;
  }
  ngcountel.value = ngcount;
  cart_good_calc_price(false,ngcountel.parentNode);
}
function cart_good_calc_price(e,par){
  /* recalc one */
  if(!par){
  var par = e.target.parentNode;
  }
  
  var par0 = par.parentNode;
  var nprice = +(par0.dataset.price);
  var ngcount = +(par.querySelector('.cartgoodscount').value);
  
  var res = '$ ' + ((nprice * ngcount) / 100) + '';
  var goodtotalel = par.querySelector('.goodtotal');
  goodtotalel.innerHTML = res;
  
  cart_goods_recalc_prices();
}
function cart_goods_recalc_prices(){
  /* recalc all */
  window.cart_total = 0;
  var cart_goods = document.querySelectorAll('.cartgood');
  cart_goods.forEach(function(n){
    var nprice = +(n.dataset.price);
    var n2 = n.childNodes[3];
    var ngcount = +(n.querySelector('.cartgoodscount').value);
    window.cart_total = window.cart_total + (nprice * ngcount);
  });
  
  var res = '$ ' + (window.cart_total / 100) + '';
  document.querySelector('.carttotal').innerHTML = res;
}
function cart_good_bind(){
  /* bind all */
  var cart_goods = document.querySelectorAll('.cartgood');
  cart_goods.forEach(function(n){
    /*var nprice = +(n.dataset.price);*/
    var n2 = n.childNodes[3];
    /*var total = n2.querySelector('.goodtotal');*/
    var decr = n2.querySelector('.cartgooddecr');
    var incr = n2.querySelector('.cartgoodincr');
    var del = n2.querySelector('.deletegood');
    var ngcount = n2.querySelector('.cartgoodscount');
    
    incr.addEventListener("click", cart_good_incr, false);
    decr.addEventListener("click", cart_good_decr, false);
    del.addEventListener("click", cart_good_del, false);
    ngcount.addEventListener("change", cart_good_calc_price, false);
    
  });
}
function cart_good_unbind(el){
  /* unbind one */
  var decr = el.querySelector('.cartgooddecr');
  var incr = el.querySelector('.cartgoodincr');
  var del = el.querySelector('.deletegood');
  var ngcount = el.querySelector('.cartgoodscount');
  incr.removeEventListener("click", cart_good_incr, false);
  decr.removeEventListener("click", cart_good_decr, false);
  del.removeEventListener("click", cart_good_del, false);
  ngcount.removeEventListener("change", cart_good_calc_price, false);
}
function cart_good_del(e){
  var el = e.target;
  var par = el.parentNode;
  var par2 = par.parentNode;
  var hr = par2.nextSibling.nextSibling;
  
  cart_good_unbind(par);
  
  par2.remove();
  hr.remove();
  
  cart_goods_recalc_prices();
}


window.addEventListener("load", function(){
  cart_good_bind();
  
});
</script>


<hr class="style16">

</div>

<footer><div class="container text-center">eshop &copy;2018</div></footer>
</div>

<script src="js/bootstrap-native-v4.js" defer></script>
<script src="js/scripts4.js" defer></script>

</body>
</html>
